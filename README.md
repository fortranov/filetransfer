# Система загрузки файлов

Сервис на PHP для загрузки и управления файлами с поддержкой сетевых папок.

## Возможности

- ✅ Загрузка файлов с drag & drop
- ✅ Автоматическое создание папок
- ✅ Выбор папки назначения из выпадающего списка
- ✅ Просмотр всех загруженных файлов
- ✅ Скачивание и удаление файлов
- ✅ Современный и официальный дизайн
- ✅ Поддержка различных форматов файлов
- ✅ Статистика по папкам и файлам
- ✅ Система логирования всех операций
- ✅ Поддержка сетевых папок в локальной сети
- ✅ Сканирование подпапок на один уровень
- ✅ Древовидная структура в выпадающем меню
- ✅ Загрузка файлов в единую подпапку (files) для всех папок


## Установка

1. **Скопируйте файлы** в корневую папку вашего веб-сервера
2. **Убедитесь, что PHP установлен** (версия 7.0 или выше)
3. **Настройте сетевой путь** в файле `config.php` или через веб-интерфейс
4. **Откройте сайт** в браузере: `http://localhost/your-project/`

## Настройка сетевого подключения

### Windows
- Формат пути: `\\\\192.168.1.100\\SharedFolder\\` или `\\\\COMPUTER-NAME\\SharedFolder\\`
- Убедитесь, что папка расшарена и доступна по сети

### Linux/Mac
- Формат пути: `/mnt/network/share/` или `/Volumes/NetworkShare/`
- Смонтируйте сетевую папку перед использованием

## Структура файлов

```
filetransfer/
├── index.php          # Главная страница с формой загрузки
├── files.php          # Страница просмотра файлов
├── logs.php           # Страница просмотра логов
├── setup_network.php  # Настройка сетевого подключения
├── config.php         # Конфигурационный файл
├── Logger.php         # Класс для управления логами
├── logs/              # Папка для хранения логов (создается автоматически)
└── README.md          # Этот файл
```

## Использование

### Загрузка файлов

1. Откройте главную страницу сайта
2. Выберите файл для загрузки (перетащите или нажмите кнопку)
3. Выберите папку назначения из древовидного списка (основные папки и их подпапки)
4. Файл будет загружен в подпапку `files` выбранной папки
5. Нажмите "Загрузить"

### Просмотр файлов

1. Нажмите кнопку "Просмотр файлов" на главной странице
2. Просматривайте файлы, организованные по папкам
3. Скачивайте файлы или удаляйте их при необходимости

### Просмотр логов

1. Нажмите кнопку "Просмотр логов" на любой странице
2. Выберите файл лога для просмотра
3. Анализируйте операции загрузки и удаления файлов

### Настройка сетевого подключения

1. Нажмите кнопку "Настройка сети" на главной странице
2. Укажите путь к расшаренной папке в сети
3. Проверьте доступность и права доступа
4. Сохраните настройки


## Требования

- PHP 7.0 или выше
- Веб-сервер (Apache, Nginx, или встроенный PHP-сервер)
- Поддержка сессий PHP

## Запуск встроенного PHP-сервера

Для тестирования можно использовать встроенный PHP-сервер:

```bash
php -S localhost:8000
```

Затем откройте `http://localhost:8000` в браузере.

## Безопасность

- Все загружаемые файлы проверяются на допустимые расширения
- Используется `move_uploaded_file()` для безопасной загрузки
- Включена защита от XSS-атак через `htmlspecialchars()`
- Подтверждение перед удалением файлов
- Логирование всех операций с файлами
- Автоматическая ротация лог-файлов (максимум 10MB на файл)

